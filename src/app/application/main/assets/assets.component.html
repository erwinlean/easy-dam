<div class="flex flex-col min-h-screen">
	<div class="flex-grow flex flex-col border-t border-gray-300 mt-20">
		<div class="overflow-x-auto p-4">
		  	<div class="mb-[1.25rem]">
				<input
				  	#searchInput
				  	type="text"
				  	placeholder="Buscar carpeta o asset..."
				  	class="w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-300 transition-all"
				  	(input)="onSearch(searchInput.value)"
				  	[value]="searchTerm"/>
		  	</div>
		
		  	<div *ngIf="searchTerm.trim().length > 0" class="overflow-auto mb-4 p-4">
				<div
			  		*ngIf="searchResults.length > 0; else noResults"
			  		class="bg-white shadow rounded p-2">
			  		<ul>
						<li *ngFor="let result of searchResults"
				  			(click)="onSelectSearchResult(result)"
								class="cursor-pointer p-1 rounded transition-colors hover:bg-gray-300">
				  			<span class="font-semibold">{{ result.folder.name }}</span>
				  			<small class="text-gray-500 ml-2">- {{ result.path }}</small>
						</li>
			  		</ul>
				</div>
				<ng-template #noResults>
				  	<div class="bg-white shadow rounded p-2">
						<p class="text-gray-500">No se encontraron resultados.</p>
				  	</div>
				</ng-template>
			</div>
		
			<div class="flex space-x-4 max-h-[9.375rem]">
				<ng-container *ngFor="let levelFolders of levels; let i = index">
				  	<div class="w-64 border-r border-gray-300 pr-2 overflow-y-auto">
						<ul>
					  		<li
								*ngFor="let folder of levelFolders"
								(click)="onSelectFolder(folder, i)"
								class="cursor-pointer hover:text-gray-600 p-1 rounded mb-1 transition-colors"
								[ngClass]="{ 'bg-gray-200': folder === selectedFolders[i] }">
								{{ folder.name }}
					  		</li>
						</ul>
				  	</div>
				</ng-container>
			</div>
		</div>

		<div class="flex-1 h-auto p-4 overflow-auto bg-gray-200">
			<h2 *ngIf="selectedFolder" class="text-xl font-bold mb-2">
				Assets de: {{ selectedFolder.name }}
			</h2>
		
			<div *ngIf="selectedFolder; else noSelection">
				<ul>
				  	<li
						*ngFor="let asset of selectedFolder.assets"
						class="text-sm text-gray-700 mb-1 transition-all hover:text-gray-600">
						{{ asset.name }} ({{ asset.type }}, {{ asset.size }})
				  	</li>
				</ul>
			</div>
			<ng-template #noSelection>
				<p class="text-gray-500">Selecciona una carpeta para ver sus assets.</p>
			</ng-template>
		</div>
	</div>
</div>